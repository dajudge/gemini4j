buildscript {
    repositories {
        mavenCentral()
        maven {
            url "https://dl.bintray.com/palantir/releases"
        }
    }
}

plugins {
    id "org.sonarqube" version "2.6"
}

println "DOCKER_HOST: ${System.getenv("DOCKER_HOST")}"

task wrapper(type: Wrapper) {
    gradleVersion = '4.6'
}

ext {
    libJunit4 = "junit:junit:4.12"
}

subprojects {
    apply plugin: 'java'
    apply plugin: 'jacoco'

    repositories.addAll rootProject.buildscript.repositories
    buildscript.repositories.addAll rootProject.buildscript.repositories

    tasks.withType(JavaCompile) {
        options.encoding = 'UTF-8'
    }

    jacocoTestReport {
        group = "Reporting"
        reports {
            xml.enabled true
            csv.enabled false
            html.destination "${buildDir}/reports/coverage"
        }
    }

    test {
        testLogging {
            showStandardStreams = true
        }
    }
}
